
pipeline {

  agent { 
    docker { image 'python:3.10-alpine' } 
  }

  options { skipDefaultCheckout(true) }
  
  stages {

    stage('clean workspace') { steps { cleanWs() } }
    stage('checkout') { steps { checkout scm } }    

    stage("version") {
      steps {
        sh 'python3 --version'
      }
    }

    stage("hello") {
      steps {
        sh 'python3 hello_world.py'
      }
    }

  }

  post { always { cleanWs() } }

}